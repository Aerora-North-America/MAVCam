From e6b3d404a146379302b0b146620ebdf3839f8eaa Mon Sep 17 00:00:00 2001
From: "xueshen.an" <xueshen.an@goertek.com>
Date: Wed, 17 Apr 2024 16:56:23 +0800
Subject: [PATCH] fixed qcom rb5 cross compile error

---
 src/mavsdk/CMakeLists.txt      | 2 +-
 src/mavsdk/core/CMakeLists.txt | 4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/src/mavsdk/CMakeLists.txt b/src/mavsdk/CMakeLists.txt
index 9b8d9a88..abd70783 100644
--- a/src/mavsdk/CMakeLists.txt
+++ b/src/mavsdk/CMakeLists.txt
@@ -20,7 +20,7 @@ target_link_libraries(mavsdk
 if (NOT APPLE AND NOT ANDROID AND NOT MSVC)
     target_link_libraries(mavsdk
         PRIVATE
-        stdc++fs
+#        stdc++fs
     )
 endif()
 
diff --git a/src/mavsdk/core/CMakeLists.txt b/src/mavsdk/core/CMakeLists.txt
index c8b1b1e3..2dc9150c 100644
--- a/src/mavsdk/core/CMakeLists.txt
+++ b/src/mavsdk/core/CMakeLists.txt
@@ -1,6 +1,10 @@
 set(THREADS_PREFER_PTHREAD_FLAG ON)
 find_package(Threads REQUIRED)
 
+#message(FATAL_ERROR "******************${CMAKE_PREFIX_PATH}")
+set(MAVLink_DIR ${CMAKE_PREFIX_PATH}/lib/cmake/MAVLink)
+message("MavLink_DIR is ${MAVLink_DIR}")
+
 find_package(MAVLink REQUIRED)
 
 get_target_property(
-- 
2.34.1

